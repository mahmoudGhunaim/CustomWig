import React, { useState, useEffect } from "react";
import "./HairColor.css";
import getTranslation from "./utils/translations";

const HairColorHighlight = ({
  setSelectedColors,
  selectedColors,
  setSelectedPrice,
  selectedPrice,
  setSelectedNameColors,
  selectedNameColors,
  lastSelected,
  setMoreItemsVisible,
}) => {
  const [hairImage, setHairImage] = useState("");
  const [svgHairHighlight, setSvgHairHighlight] = useState("");
  const [svgHairBase, setSvgHairBase] = useState("");
  const [activeFilter, setActiveFilter] = useState("black");

  setMoreItemsVisible(activeFilter);

  const handleColorSelect = (color) => {
    setSelectedColors((prev) => ({
      ...prev,
      highlight: color,
    }));
  };

  const handlePriceSelect = (price) => {
    setSelectedPrice((prev) => ({
      ...prev,
      highlight: price,
    }));
  };

  const handleColorNameSelect = (name) => {
    setSelectedNameColors((prev) => ({
      ...prev,
      highlight: name,
    }));
  };

  const handleResetColor = () => {
    setSelectedColors((prevColors) => ({
      ...prevColors,
      highlight: null,
    }));
    setSelectedPrice((prevPrices) => ({
      ...prevPrices,
      highlight: 0,
    }));
    setSelectedNameColors((prev) => ({
      ...prev,
      highlight: null,
    }));
  };

  const colorOptions = {
    black: [
      { id: "#01", name: getTranslation("jet_black", "Jet black"), color: "#000000d4", price: 80 },
      { id: "#1B", name: getTranslation("off_black", "Off black"), color: "#3B3B3B", price: 80 },
    ],
    brown: [
      { id: "#02", name: getTranslation("darkest_brown", "Darkest brown"), color: "#3B3B3B", price: 80 },
      { id: "#03", name: getTranslation("medium_dark_brown", "Medium dark brown"), color: "#482D1F", price: 80 },
      { id: "#06", name: getTranslation("chestnut_brown", "Chestnut brown"), color: "#7B5C4D", price: 80 },
      { id: "#08", name: getTranslation("medium_ash_brown", "Medium ash brown"), color: "#A56A43", price: 80 },
      { id: "#04", name: getTranslation("medium_reddish_brown", "Medium reddish brown"), color: "#C35831", price: 80 },
      { id: "#10", name: getTranslation("medium_golden_brown", "Medium golden brown"), color: "#A86A4D", price: 80 },
      { id: "#12", name: getTranslation("light_golden_brown", "Light golden brown"), color: "#D9B88A", price: 80 },
      { id: "#14", name: getTranslation("light_ash_brown", "Light ash brown"), color: "#B08B64", price: 80 },
    ],
    blonde: [
      { id: "#16", name: getTranslation("dark_honey_blonde", "Dark honey blonde"), color: "#D6C16D", price: 80 },
      { id: "#27", name: getTranslation("honey_blonde", "Honey blonde"), color: "#F0B23D", price: 80 },
      { id: "#18", name: getTranslation("nerz_blonde", "Nerz blonde"), color: "#C69C5C", price: 80 },
      { id: "#144", name: getTranslation("bright_pumpkin_gold_blonde", "Bright pumpkin gold blonde"), color: "#DFAF3F", price: 80 },
      { id: "#22", name: getTranslation("light_ash_blonde", "Light ash blonde"), color: "#B5A89D", price: 80 },
      { id: "#60", name: getTranslation("white_blonde", "White blonde"), color: "#FFFFFF", price: 80 },
      { id: "#613", name: getTranslation("platinum_blonde", "Platinum blonde"), color: "#E5E4E2", price: 80 },
    ],
    red: [
      { id: "#99J", name: getTranslation("mahagoni_red", "Mahagoni red"), color: "#4A0D0D", price: 80 },
      { id: "#350", name: getTranslation("ginger_red", "Ginger red"), color: "#D76E38", price: 80 },
      { id: "#30", name: getTranslation("auburn_red", "Auburn red"), color: "#A52A2A", price: 80 },
      { id: "#135", name: getTranslation("fiery_red", "Fiery red"), color: "#FF4500", price: 80 },
      { id: "#F", name: getTranslation("fucsia_red", "Fucsia red"), color: "#D5006D", price: 80 },
      { id: "#P", name: getTranslation("pink_red", "Pink red"), color: "#FF1493", price: 80 },
      { id: "#33", name: getTranslation("cooper_red", "Cooper red"), color: "#a05436", price: 80 },
      { id: "#B", name: getTranslation("burgundy_red", "Burgundy red"), color: "#800020", price: 80 },
    ],
    more: [
      { id: "#N", name: getTranslation("natural", "Natural"), color: "#000000d4", price: 80 },
      { id: "#PU", name: getTranslation("purple", "Purple"), color: "#800080", price: 80 },
      { id: "#O", name: getTranslation("orange", "Orange"), color: "#FFA500", price: 80 },
      { id: "#S", name: getTranslation("silver", "Silver"), color: "#C0C0C0", price: 80 },
      { id: "#BL", name: getTranslation("blue", "Blue"), color: "#0000FF", price: 80 },
      { id: "#G", name: getTranslation("green", "Green"), color: "#008000", price: 80 },
    ],
  };

  const handleFilterChange = (filter) => {
    setActiveFilter(filter);
  };

  useEffect(() => {
    if (lastSelected === "Wavy") {
      setHairImage("https://hairs.softylus.com/wp-content/uploads/2025/02/WavyImage.png");
      setSvgHairBase(
        <svg width="445" height="642" viewBox="0 0 445 642" fill="none" xmlns="http://www.w3.org/2000/svg" className="haircolor-svg">
          <path d="M165 16.0001C173.8 11.2001 201 4.00006 213.5 1.00006C223.5 -1.53482 239.667 4.27719 246.5 7.50006H258.5L275.5 10.0001C284.333 14.1667 302.7 23.0001 305.5 25.0001C309 27.5001 340.5 62.0001 344.5 65.5001C348.5 69.0001 369.5 125.5 372.5 135.5C374.9 143.5 386.833 207.167 392.5 238C395 243.833 400.7 256.6 403.5 261C407 266.5 412.5 289 412.5 294C412.5 298 415.833 319.667 417.5 330L392.5 388.5L439 422L444.5 442L442 463.5C438.833 475 432.9 499.3 434.5 504.5C436.1 509.7 420.5 532.667 412.5 543.5L387.5 560.5L397 536L360 580.5L335.5 597.5L330.5 591L323 597.5L335.5 607C339.5 605.667 346.5 605.7 342.5 616.5C338.5 627.3 307.167 637.333 292 641L285 632.5C280.833 635.333 271.2 641 266 641C259.5 641 196.5 642 191 641C186.6 640.2 148.833 621.333 130.5 612L77 560.5C58.8333 539 22.4998 495.4 22.4998 493C22.4998 490 21 481.5 16 476.5C11 471.5 4.99983 462 4.99983 458.5C4.99983 455.7 9.99994 452.333 12.5 451L31.9998 440.5L21 444.5C17.1666 445.667 8.59983 447.8 4.99983 447C1.39983 446.2 0.833161 439.667 0.999828 436.5L4.99983 429L31.9998 415.5L22.4998 413C34.4998 405.333 60.0998 387.8 66.4998 379C72.8998 370.2 71.1665 357.667 69.4998 352.5C64.8332 340 55.4998 313.2 55.4998 306V268L69.4998 195.5C73.6665 178.833 81.9998 144.5 81.9998 140.5C81.9998 136.5 97.6665 101.5 105.5 84.5001C111.333 75.5001 123.1 56.6001 123.5 53.0001C124 48.5001 154 22.0001 165 16.0001Z" fill={selectedColors.hairColor || "#cccccc"} />
        </svg>
      );
      setSvgHairHighlight(
        <svg width="428" height="601" viewBox="0 0 428 601" fill="none" xmlns="http://www.w3.org/2000/svg" className="highlightcolor-svg">
          <path d="M238.68 71.6381C240.28 60.4381 255.346 22.3047 262.68 4.63807C259.513 1.13807 251.38 -3.76193 244.179 4.63807C235.179 15.1381 221.179 79.6381 221.179 84.6381V216.638C221.179 231.638 234.18 269.638 238.68 284.638C243.18 299.638 238.68 313.638 234.18 327.638C229.68 341.638 216.679 370.138 214.179 377.638C211.679 385.138 219.179 405.138 221.179 413.138C222.779 419.538 233.513 431.805 238.68 437.138C242.83 438.471 252.841 448.538 259.68 478.138C268.228 515.138 253.18 505.138 244.179 513.138C235.179 521.138 225.679 552.638 225.679 557.138C225.679 560.738 231.346 566.305 234.18 568.638C234.18 561.805 235.08 547.238 238.68 543.638C243.18 539.138 265.179 512.638 266.679 505.138C268.179 497.638 259.68 463.138 259.68 457.138C259.68 451.138 245.18 433.138 238.68 424.638C233.48 417.838 233.513 400.471 234.18 392.638C237.18 380.305 245.18 350.038 253.18 327.638C263.18 299.638 259.68 287.638 259.68 278.138C259.68 268.638 242.18 179.138 238.68 160.638C235.18 142.138 236.68 85.6381 238.68 71.6381Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M272.852 77.2761C271.252 66.0761 256.185 27.9428 248.852 10.2761C252.018 6.77614 260.152 1.87614 267.352 10.2761C276.353 20.7761 290.352 85.2761 290.352 90.2761V222.276C290.352 237.276 313.675 290.138 309.175 305.138C304.675 320.138 310.676 323.638 315.176 337.638C319.676 351.638 294.852 375.776 297.352 383.276C299.852 390.776 292.352 410.776 290.352 418.776V426.638V453.138C290.352 464.638 297.352 469.638 302.175 479.138C306.998 488.638 312.175 501.638 315.175 509.638C317.575 516.038 307.508 534.638 302.175 543.138C289.675 551.971 263.41 569.538 258.352 569.138C253.293 568.738 239.126 589.638 232.675 600.138C231.675 594.805 229.675 582.838 229.675 577.638C229.675 571.138 239.175 563.638 247.175 553.138C255.175 542.638 266.675 529.638 277.352 519.138C288.028 508.638 277.352 494.138 269.675 484.138C261.999 474.138 258.352 445.638 258.352 430.138C258.352 417.738 271.018 403.73 277.352 398.276C274.352 385.943 298.352 370.538 290.352 348.138C280.352 320.138 277.352 309.638 277.352 300.138C277.352 290.638 257.081 249.638 272.852 166.276C276.352 147.776 274.852 91.2761 272.852 77.2761Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M156.68 77.2761C158.28 66.0761 173.347 27.9428 180.68 10.2761C177.514 6.77614 169.38 1.87614 162.18 10.2761C153.179 20.7761 139.18 85.2761 139.18 90.2761V222.276C139.18 237.276 152.18 275.276 156.68 290.276C161.18 305.276 156.68 319.276 152.18 333.276C147.68 347.276 130.175 380.638 127.675 388.138C125.175 395.638 133.175 410.138 135.175 418.138C136.775 424.538 151.513 437.443 156.68 442.776C160.831 444.109 174.749 450.969 171.18 481.138C167.675 510.776 171.18 510.776 162.18 518.776C153.179 526.776 143.68 558.276 143.68 562.776C143.68 566.376 149.347 571.943 152.18 574.276C152.18 567.443 153.08 552.876 156.68 549.276C161.18 544.776 187.092 512.998 189.175 505.638C196.675 479.138 189.175 467.638 189.175 461.638C189.175 455.638 177.68 441.638 171.18 433.138C165.98 426.338 151.514 406.109 152.18 398.276C155.18 385.943 163.18 355.676 171.18 333.276C181.18 305.276 177.68 293.276 177.68 283.776C177.68 274.276 160.18 184.776 156.68 166.276C153.18 147.776 154.68 91.2761 156.68 77.2761Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M108.594 105.92C110.188 95.2449 125.204 58.8979 132.512 42.0589C129.356 38.7228 121.25 34.0524 114.075 42.0589C105.105 52.067 91.1534 113.545 91.1534 118.311V244.128C91.1534 258.425 104.109 294.645 108.594 308.942C113.078 323.239 108.594 336.584 104.109 349.928C99.6249 363.272 86.6688 390.437 84.1774 397.586C81.686 404.734 98.6817 430.513 100.675 438.138C102.269 444.238 104.109 446.638 108.594 454.298C110.781 458.034 111.484 468.321 95.638 492.638C87.1666 505.638 96.6443 507.013 87.6746 514.638C78.7049 522.263 84.1774 548.349 84.1774 552.638C84.1774 556.069 132.851 596.414 135.675 598.638C135.675 592.125 106.175 548.602 106.175 543.638C106.175 535.467 107.099 519.787 108.594 512.638C110.089 505.489 129.522 479.08 129.522 473.361C129.522 467.642 129.522 437.24 123.044 429.138C117.862 422.657 103.445 419.349 104.109 411.883C107.099 400.127 115.072 371.278 123.044 349.928C133.01 323.239 129.522 311.802 129.522 302.747C129.522 293.692 112.082 208.384 108.594 190.751C105.106 173.118 106.601 119.264 108.594 105.92Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M366.175 155.638C365.375 150.438 335.175 82.1381 320.175 48.6381C310.342 38.3047 297.175 23.8381 323.175 48.6381C355.675 79.6381 384.675 187.138 384.675 193.138C384.675 199.138 384.675 252.138 381.175 261.638C377.675 271.138 377.675 289.638 379.675 292.638C381.675 295.638 406.675 317.638 416.175 329.138C425.675 340.638 418.675 362.138 416.175 367.638C413.675 373.138 393.175 412.138 393.175 424.638C393.175 437.138 393.175 433.638 397.675 440.138C402.175 446.638 428.175 489.638 427.675 493.638C427.175 497.638 411.675 531.138 411.675 540.138C411.675 547.338 381.342 563.471 366.175 570.638C369.842 563.305 377.175 546.938 377.175 540.138C377.175 531.638 390.675 524.138 393.175 519.638C395.675 515.138 372.46 498.262 366.175 491.138C358.675 482.638 355.175 453.138 355.175 445.138C355.175 438.738 385.842 402.471 392.675 385.138C395.508 378.305 402.275 364.138 406.675 362.138C411.075 360.138 408.508 348.971 406.675 343.638C403.842 341.471 397.075 335.538 392.675 329.138C387.175 321.138 376.675 319.138 372.175 314.138C367.675 309.138 366.175 267.138 366.175 261.638V245.138V229.138V198.638C366.175 189.138 367.175 162.138 366.175 155.638Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M69.1747 163.638C69.9747 158.438 93.1815 82.1381 108.182 48.6381C118.015 38.3048 128.67 21.4474 105.182 48.6381C76.6748 81.6381 43.6815 175.638 43.6815 181.638C43.6815 187.638 51.1815 250.638 47.1815 261.638C43.7216 271.153 37.6815 273.138 35.6815 276.138C33.6815 279.138 21.6815 281.138 12.1815 292.638C2.6815 304.138 -1.8185 323.638 0.681503 329.138C3.1815 334.638 47.1815 385.138 35.1815 424.638C31.548 436.598 35.1815 433.638 30.6815 440.138C26.1815 446.638 -1.92145 490.56 0.681503 493.638C11.6748 506.638 21.1748 531.138 21.1748 540.138C21.1748 547.338 46.6748 546.638 62.1815 570.638C68.784 580.857 78.6748 546.938 78.6748 540.138C78.6748 531.638 64.6815 519.638 62.1815 515.138C59.6815 510.638 52.3894 492.762 58.6748 485.638C66.1748 477.138 73.1816 453.138 73.1816 445.138C73.1816 438.738 58.0148 389.971 51.1815 372.638C48.3482 365.805 48.0815 357.138 43.6815 355.138C39.2815 353.138 38.1747 350.138 35.6815 342.638C35.6815 339.138 31.2815 335.538 35.6815 329.138C41.1815 321.138 50.1747 317.138 54.6747 312.138C59.1747 307.138 62.1815 267.138 62.1815 261.638C62.1815 256.138 66.1747 246.638 66.1747 242.138C66.1747 237.638 69.1747 229.138 69.1747 224.638V200.138C69.1747 190.638 68.1747 170.138 69.1747 163.638Z" fill={selectedColors.highlight || "#cccccc"} />
        </svg>
      );
    } else if (lastSelected === "Curly") {
      setHairImage("https://hairs.softylus.com/wp-content/uploads/2025/02/CurlyImage.png");
      setSvgHairBase(
        <svg width="462" height="669" viewBox="0 0 462 669" fill="none" xmlns="http://www.w3.org/2000/svg" className="haircolor-svg">
          <path d="M168 16.0001C170.4 14.0001 187 7.8334 195 5.00006C207.4 -0.599918 226.833 5.32866e-05 235 1.00004L244.5 2.00004C247 2.50004 252.3 3.60004 253.5 4.00004C254.7 4.40004 256.333 6.1667 257 7.00004L259.5 12L262 8.50004C263 8.16671 265.8 7.10006 269 5.50006C273 3.50006 280 5.00006 282 5.50006C284 6.00006 304.5 14.5001 307 16.0001C309.5 17.5001 337 41.0001 339.5 43.5001C342 46.0001 365.5 81.0001 366.5 85.0001C367.5 89.0001 395 143 396.5 146C397.7 148.4 404 178 407 192.5V199.5C407 201.5 413 211 415 214.5C417 218 418.5 235 418.5 236.5C418.5 237.7 410.833 256.667 407 266L404.5 273.5V283.5C404.5 284.3 411.5 293.5 415 298L425 306C428 309 434.9 315.4 438.5 317C442.1 318.6 449.333 329.333 452.5 334.5L449.5 343.5L450.5 348.5L448 361.5C448.833 364.167 450 370.4 448 374C446 377.6 440.833 390.5 438.5 396.5C439.5 398.833 441.7 404 442.5 406C443.5 408.5 441.5 421.5 441.5 424.5C441.5 426.9 432.833 440.833 428.5 447.5C428.833 449 429.8 452.4 431 454C432.5 456 436.5 464 438.5 466C440.1 467.6 447.167 471 450.5 472.5L455.5 475L461.5 478V480.5C461 481.667 459.7 484 458.5 484C457 484 455.5 484.5 452.5 486C449.5 487.5 448 487 448 488C448 489 450.5 491 450.5 492C450.5 493 452.5 495 452.5 496.5C452.5 497.7 451.167 501 450.5 502.5C449.333 503.5 446.8 505.6 446 506C445.2 506.4 444.333 508.833 444 510C443.667 511.167 442.9 513.7 442.5 514.5C442 515.5 438.5 523.5 438.5 525.5C438.5 527.1 428.5 544.167 423.5 552.5L413 562C411.667 563.667 409 567.2 409 568C409 569 408.5 574.5 409 578C409.5 581.5 410.5 583.5 411.5 586C412.5 588.5 414.5 590 415.5 592C416.5 594 419.5 596.5 421.5 597.5C423.1 598.3 422.167 600.833 421.5 602L427 607.5L425 611C423 609.833 418.8 607.5 418 607.5C417 607.5 413.5 605 413 604C412.5 603 409 598.5 406 595C403.6 592.2 402.667 587.833 402.5 586C401.667 582.833 400.1 576.1 400.5 574.5C400.9 572.9 399 573.167 398 573.5C397.5 574 396.1 575.3 394.5 576.5C392.5 578 392.5 585 392 587C391.5 589 388.5 593.5 388 596.5C387.6 598.9 386.5 607.167 386 611C387.667 612.833 391.5 616.7 393.5 617.5C395.5 618.3 398.667 623.167 400 625.5C397.833 625.5 393 625.2 391 624C388.5 622.5 373.5 611.5 370 607.5C367.2 604.3 366.5 591.833 366.5 586C365.5 587 362.8 589.9 360 593.5C356.5 598 353.5 617.5 353.5 619C353.5 620.5 353.5 623.5 355 625.5C356.5 627.5 358.5 627.5 360 628.5C361.5 629.5 366.5 630.5 369 630.5C371 630.5 369.833 631.833 369 632.5L366.5 635.5L360 638.5L352 632.5L345 630.5L343.5 635.5L353.5 637V638.5V642.5L352 646.5L348 647.5C346.737 647.306 344.773 646.998 343.432 646.776C344.724 647.427 344.341 649.078 345 650L343.5 652.5C342.833 654.333 341.2 658.6 340 661C338.5 664 337 662.5 336 661C335 659.5 332 661 330.5 661H325C324.167 660 322.4 658 322 658C321.5 658 319.5 656.5 318 656.5C316.5 656.5 316 658 315 658C314 658 313.5 660 312.5 661C311.5 662 311 664.5 308.5 666.5C306 668.5 304 666.5 300 666.5C296 666.5 289 664.5 287 666.5C285.4 668.1 282.333 667.167 281 666.5L278 662.5C276.5 660.5 272.5 666.5 271 666.5C269.8 666.5 273.5 662.167 275.5 660C273 659.333 267.5 658.4 265.5 660C263 662 255 666.5 253 666.5H244.5C242.5 663.667 238.2 657.7 237 656.5C235.5 655 225 646.5 223.5 646.5H218C217.2 646.5 210.667 651.167 207.5 653.5C205.833 653.833 202.3 654.9 201.5 656.5C200.7 658.1 196.167 660.167 194 661C192.833 662.167 190 664.9 188 666.5C185.5 668.5 187 664.5 186 664.5C185 664.5 184 665 182 664.5C180 664 179.5 660 178 661C176.5 662 173 664.5 170.5 666.5C168 668.5 164 669 162 666.5C160.4 664.5 159 663 158.5 662.5L151.5 660C150 659.5 146.9 658.4 146.5 658C146 657.5 136.5 660.5 134 660C131.5 659.5 131 659 130 656.5C129.2 654.5 125.667 655.667 124 656.5C122.833 656.167 120.2 655.3 119 654.5C117.8 653.7 120.833 651.167 122.5 650L115.5 648C114.5 646.333 112.5 642.8 112.5 642V639C112.833 638.333 113.9 636.8 115.5 636C117.5 635 120 636.5 122.5 636C125 635.5 124 632.5 124 631.5C124 630.5 123.5 625 122.5 622.5C121.5 620 120 617 118 614.5C116 612 112.5 606.5 112.5 604C112.5 601.5 106.5 595 104.5 592C102.5 589 101 584 100.5 581C100.1 578.6 96.3333 575 94.5 573.5L87.5 584C85.5 587 85 590 83.5 593.5C82 597 81 598 75 600.5C69 603 68 604.5 64 606C60 607.5 52.5 608 49 608.5C45.5 609 43 607.5 41.5 606.5C39.9999 605.5 36 600 34 596.5C31.9999 593 36.5 595 38 593.5C39.5 592 43 591.5 48 590C53 588.5 52.5 588 54 587C55.5 586 57.5 583.5 59 581C60.5 578.5 60.5 574 63 570C65.5 566 63.5 564 63 561C62.6 558.6 61.1667 555.667 60.5 554.5C58.3333 558 53.7 565.6 52.5 568C51.3 570.4 49 572 48 572.5L41.5 575.5C39 576.5 33.3 579 30.5 581C27.7 583 24.3333 581.833 23 581L18 578.5C17.2 578.1 21 576.333 23 575.5C20.3333 575.833 14.6 576.3 13 575.5C11.4 574.7 6.33333 571.5 4 570C6 570.667 11 572.1 15 572.5C20 573 26.5 569.5 30.5 568C34.4999 566.5 38 560.5 39.5 558.5C40.7 556.9 41.3333 547.167 41.5 542.5L38 527C36.6667 525.5 34 522.1 34 520.5C34 518.5 32 514 30.5 512.5C28.9999 511 25.5 504.5 23 502C20.5 499.5 14.5 491.5 13 489.5C11.5 487.5 10.5 484 10 483C9.5 482 9.5 476 9.5 475.5C9.5 475 1.99996 466 0.999959 463.5C-4.06504e-05 461 1.49996 458 1.99996 455.5C2.39996 453.5 2.83329 452 2.99996 451.5L34 442C28.6666 441.667 17.7 441 16.5 441H12.5C11 441 9.49996 439.5 8.49996 439C7.49996 438.5 5.49996 436.5 4.49996 436.5C3.49996 436.5 3.99996 435 3.99996 434.5C3.99996 434 7.49996 431 8.49996 431C9.29996 431 12.5 431.667 14 432C16.8333 432.333 22.8 433 24 433C25.4999 433 32.5 430 30.5 430.5C28.5 431 21.5 428 20.5 427.5C19.7 427.1 18.5 425 18 424C18.8333 424.667 21.2 426.2 24 427C27.5 428 34.5 426.5 41.5 424C48.5 421.5 51.5 410.5 53 410C54.5 409.5 55 400 55 394C55 389.2 48.6666 377.667 45.5 372.5C42.6666 366.667 35.1 352.5 27.5 342.5C19.9 332.5 19.6666 323.667 20.5 320.5C21.3333 318.167 23.2 313.3 24 312.5C25 311.5 25.5 303.5 26 301.5C26.4 299.9 31.8333 294.167 34.5 291.5C46.3333 279.833 70.3 256.1 71.5 254.5C72.7 252.9 71 244.5 70 240.5C68.5 233.5 65.2001 217.8 64.0001 211C62.5001 202.5 64.0001 181.5 64.0001 178C64.0001 175.2 66.0001 170.167 67.0001 168L87.0001 120C90.8335 113 98.6001 98.2001 99.0001 95.0001C99.5001 91.0001 109.5 77.5001 115.5 66.5001C121.5 55.5001 139.5 38.5001 142.5 35.5001C145.5 32.5001 165 18.5001 168 16.0001Z" fill={selectedColors.hairColor || "#cccccc"} />
        </svg>
      );
      setSvgHairHighlight(
        <svg width="350" height="571" viewBox="0 0 350 571" fill="none" xmlns="http://www.w3.org/2000/svg" className="highlightcolor-svg">
          <path d="M72.5 94C74.9 61.2 109.167 20.6667 126 4.5C48.5 41 41.4997 141.5 34.5 171.5C27.5003 201.5 34.5 268 34.5 289.5C34.5 311 31.0001 358 15.5001 380.5C0.000135422 403 -0.499865 460 0.500135 469C1.50014 478 17.0001 486.5 23.9997 493C30.9993 499.5 33.4997 479.5 23.9997 469C14.4997 458.5 23.9997 449.5 23.9997 433C23.9997 416.5 35.4997 400 41.4997 390.5C47.4997 381 49.5 277.5 46.5 259C43.5 240.5 69.5 135 72.5 94Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M114.315 94C116.715 61.2 150.982 20.6667 167.815 4.5C90.3154 41 83.3151 141.5 76.3154 171.5C69.3157 201.5 76.3154 268 76.3154 289.5C76.3154 311 72.8156 358 57.3156 380.5C41.8156 403 41.3156 460 42.3156 469C43.3156 478 58.8156 486.5 65.8151 493C72.8147 499.5 75.3151 479.5 65.8151 469C56.3151 458.5 65.8151 449.5 65.8151 433C65.8151 416.5 77.3151 400 83.3151 390.5C89.3151 381 91.3154 277.5 88.3154 259C85.3154 240.5 111.315 135 114.315 94Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M229.578 90.2726C227.175 57.1894 192.858 16.3062 176 0C253.614 36.8151 260.624 138.183 267.634 168.442C274.644 198.701 267.634 265.775 267.634 287.46C267.634 309.146 264.139 357.551 279.662 380.246C295.185 402.94 295.685 460.432 294.684 469.51C293.683 478.587 278.16 487.161 271.15 493.717C264.14 500.273 261.636 480.1 271.15 469.51C280.664 458.919 271.15 449.841 271.15 433.199C271.15 416.556 259.633 399.914 253.624 390.332C247.615 380.75 252.612 275.357 255.617 256.697C258.621 238.037 232.583 131.626 229.578 90.2726Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M277.578 95.7726C275.175 62.6894 240.858 21.8062 224 5.5C301.614 42.3151 308.624 143.683 315.634 173.942C322.644 204.201 315.634 271.275 315.634 292.96C315.634 314.646 319.139 362.051 334.662 384.746C350.185 407.44 350.685 464.932 349.684 474.01C348.683 483.087 333.16 491.661 326.15 498.217C319.14 504.773 316.636 484.6 326.15 474.01C335.664 463.419 326.15 454.341 326.15 437.699C326.15 421.056 314.633 404.414 308.624 394.832C302.615 385.25 300.612 280.857 303.617 262.197C306.621 243.537 280.583 137.126 277.578 95.7726Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M137.5 91.5001C139.1 73.5001 160.833 28.0001 171.5 7.50005C184 -1.99995 167.5 56.5001 167.5 64.0001C167.5 71.5001 153.5 91.5001 153.5 101.5C153.5 111.5 145 129.5 145 148V203.5V257C145 271.5 153.5 285 167.5 308.5C181.5 332 177.5 336 177.5 344.5C177.5 353 179 379.5 177.5 394.5C176 409.5 167.5 417.5 153.5 427.5C139.5 437.5 145 470.5 145 484C145 497.5 149 522 153.5 535.5C158 549 167.5 558.5 167.5 566.5C167.5 572.9 158.167 569.167 153.5 566.5C150.667 559 143.5 542.3 137.5 535.5C130.001 527 125 519 120 506.5C114.999 494 120 480.5 120 464C120 447.5 142 401.5 145 389.5C148 377.5 137.5 328.5 137.5 313C137.5 297.5 128 292 125 257C122 222 135.5 114 137.5 91.5001Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M216.666 91.5001C215.066 73.5001 193.333 28.0001 182.666 7.50005C170.166 -1.99995 186.666 56.5001 186.666 64.0001C186.666 71.5001 200.666 91.5001 200.666 101.5C200.666 111.5 209.166 129.5 209.166 148V203.5V257C209.166 271.5 209.506 282.599 216.666 309C224.666 338.5 216.666 334.5 216.666 343C216.666 351.5 215.166 378.5 216.666 393.5C218.166 408.5 198.5 408.795 198.5 426C198.5 431 189.166 430.5 189.166 444C189.166 457.5 185.166 482 180.666 495.5C176.166 509 166.666 518.5 166.666 526.5C166.666 532.9 176 529.167 180.666 526.5C183.5 519 190.666 502.3 196.666 495.5C204.166 487 209.166 479 214.166 466.5C219.167 454 238 440 238 423.5C238 407 236.166 397.5 233.166 385.5C230.166 373.5 240.666 324.5 240.666 309C240.666 293.5 226.166 292 229.166 257C232.166 222 218.666 114 216.666 91.5001Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M179 149.5V30C174.5 48.5 165 230.5 165 253.5C165 276.5 188.5 313.5 183.5 304C178.5 294.5 179 173.5 179 149.5Z" fill={selectedColors.highlight || "#cccccc"} />
        </svg>
      );
    } else {
      setHairImage("https://hairs.softylus.com/wp-content/uploads/2025/02/StraightImage.png");
      setSvgHairBase(
        <svg width="299" height="631" viewBox="0 0 299 631" fill="none" xmlns="http://www.w3.org/2000/svg" className="haircolor-svg">
          <path d="M105.5 4.49999C109.5 3.29999 125.833 1.66665 133.5 0.999986C142.272 1.40798 155.208 -0.00257409 165 1C179.208 2.45478 189.56 6.51996 194 7.99999C201.5 10.5 226 30.5 230 33.5C234 36.5 253 64 255 66.5C256.6 68.5 264.333 86.3333 268 95C272.167 109.333 280.5 138.4 280.5 140C280.5 141.6 283.5 165.333 285 177L289 216L290.5 255.5L292 294.5L295 330L297.5 381.5L298.5 413.5V458.5C297.833 468 296.4 487.3 296 488.5C295.6 489.7 290.833 511.333 288.5 522C283.333 532.5 272.9 554.2 272.5 557C272 560.5 259.5 573.5 258.5 576C257.7 578 245.5 590.167 239.5 596C235.833 599.333 228.4 606.3 228 607.5C227.5 609 228.5 614.5 230.5 617C232.5 619.5 225 620.5 223 620C221 619.5 207.5 620 206.5 620C205.5 620 192 626 190.5 627C189 628 174.5 631 172.5 631C170.5 631 164.5 627.5 161 627.5C157.5 627.5 130.5 623 128.5 622.5C126.5 622 101 600.5 97.5 597C94 593.5 78 571 72 564.5C67.2 559.3 51 526 43.5 510C39.5 504.5 29.9 462.5 29.5 462C25.5 457 10.5 350 9.5 346C8.5 342 1.00003 239 1.00003 233C1.00003 227 2.71797e-05 175 4.00003 150C8.00003 125 14 109 18.5 96C23 83 31 70.5 39.5 55.5C48 40.5 75 20 76.5 18.5C78 17 100.5 5.99999 105.5 4.49999Z" fill={selectedColors.hairColor || "#cccccc"} />
        </svg>
      );
      setSvgHairHighlight(
        <svg width="267" height="626" viewBox="0 0 267 626" fill="none" xmlns="http://www.w3.org/2000/svg" className="highlightcolor-svg">
          <path d="M69.5002 94C68.7002 72.4 84.5002 26.3333 92.5002 6C62.0004 12.5 49.5 94 46.5 107C43.5 120 37.5 316.5 37.5 330.5C37.5 344.5 59.5002 496 59.5002 502.5C59.5002 509 69.5002 558.5 81.5 571.5C91.0998 581.9 119.167 611.833 132 625.5L138.5 610L113 571.5C106.167 561.667 90.3002 538.1 81.5 522.5C70.4998 503 64.0002 303 59.5002 283.5C55.0002 264 70.5002 121 69.5002 94Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M202 94C202.8 72.4 187 26.3333 179 6C209.5 12.5 222 94 225 107C228 120 234 316.5 234 330.5C234 344.5 208.5 504 208.5 510.5C208.5 517 217.5 546.5 212 562.5C207.399 575.885 205.833 590.333 193 604L190 585L193 552.5C199.833 542.667 190 535.5 190 522.5C190 500.111 207.5 303 212 283.5C216.5 264 201 121 202 94Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M88.5 196C88.5 184 106.167 65.3333 115 7.49997C116.825 -4.50003 124.427 2.49997 128 7.49997C126.167 45.3333 121 124.3 115 137.5C107.5 154 103 259.5 103 288C103 316.5 115 448 115 467.5C115 483.1 139 540.333 151 567C157.333 574.833 170 591.8 170 597V621L144.5 597C138.667 585.333 126.1 560 122.5 552C118 542 104 521 103 502.5C102 484 95.5 434.5 96.5 425C97.5 415.5 88.5 211 88.5 196Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M151 82.4999C151.8 68.4999 143 25.9999 138.5 6.49995C152.5 -14.5001 164 28.9999 164 40.4999C164 51.9999 172 118.5 172 135C172 151.5 166.5 188 164 201.5C161.5 215 172 286 172 309C172 332 181.5 333.5 181.5 358C181.5 382.5 178 442.5 172 456C166 469.5 177 534.5 172 544C168 551.6 156.333 568.833 151 576.5V534.5V470C149.167 442.5 146.6 383.1 151 365.5C156.5 343.5 145.5 310.5 145.5 293C145.5 275.5 151 184 151 178.5C151 173 150 99.9999 151 82.4999Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M20.5002 225C19.7002 197.8 30.5002 94 36.0002 45.5C12.0004 83 6.50012 185.5 2.00007 200.5C-2.49998 215.5 5.00007 339.5 2.00007 355C-0.999932 370.5 11.0001 420 12.5001 435.5C13.7001 447.9 34.6667 506.667 45.0001 534.5C42.0001 521.333 36.0002 493.8 36.0002 489C36.0002 483 20.5002 439 20.5002 420C20.5002 401 21.5002 259 20.5002 225Z" fill={selectedColors.highlight || "#cccccc"} />
          <path d="M246.5 225C247.3 197.8 236.5 94 231 45.5C255 83 260.5 185.5 265 200.5C269.5 215.5 262 339.5 265 355C268 370.5 256 420 254.5 435.5C253.3 447.9 232.333 506.667 222 534.5C225 521.333 231 493.8 231 489C231 483 246.5 439 246.5 420C246.5 401 245.5 259 246.5 225Z" fill={selectedColors.highlight || "#cccccc"} />
        </svg>
      );
    }
  }, [lastSelected, selectedColors.hairColor, selectedColors.highlight]);

  return (
    <section className="HairColor-sec">
      <div className="HairColor-container" id="Haircolor">
        <div className="HairColor-image">
          <img src={hairImage} alt="Hair" />
          {svgHairBase}
          {selectedColors.highlight && svgHairHighlight}
        </div>
        <div className="HairColor-detail">
          <div className="HairColor-head">
            <h2>{getTranslation("highlight_color", "Highlight Color")}</h2>
            <p className="HairColor-subtitle">{getTranslation("select_highlight_color", "Select a highlight color (optional)")}</p>
          </div>

          {selectedColors.hairColor && (
            <div className="HairColor-base-preview">
              <span>{getTranslation("base_color", "Base Color")}:</span>
              <div className="base-color-chip" style={{ background: selectedColors.hairColor }}></div>
              <span>{selectedNameColors.hairColor}</span>
            </div>
          )}

          {selectedColors.highlight && (
            <div className="HairColor-selected-info">
              <div className="selected-color-preview" style={{ background: selectedColors.highlight }}></div>
              <span>{selectedNameColors.highlight}</span>
              {selectedPrice.highlight > 0 && (
                <span className="selected-price">+{selectedPrice.highlight} {getTranslation("currency_sar", "SAR")}</span>
              )}
              <button className="reset-color-button" onClick={handleResetColor}>
                {getTranslation("reset_color", "Reset")}
              </button>
            </div>
          )}

          <div className="HairColor-filters">
            <button onClick={() => handleFilterChange("black")} className={activeFilter === "black" ? "filter-active" : ""}>
              {getTranslation("black", "Black")}
            </button>
            <button onClick={() => handleFilterChange("brown")} className={activeFilter === "brown" ? "filter-active" : ""}>
              {getTranslation("brown", "Brown")}
            </button>
            <button onClick={() => handleFilterChange("blonde")} className={activeFilter === "blonde" ? "filter-active" : ""}>
              {getTranslation("blonde", "Blonde")}
            </button>
            <button onClick={() => handleFilterChange("red")} className={activeFilter === "red" ? "filter-active" : ""}>
              {getTranslation("red", "Red")}
            </button>
            <button onClick={() => handleFilterChange("more")} className={activeFilter === "more" ? "filter-active" : ""}>
              {getTranslation("more", "More")}
            </button>
          </div>

          <div className="HairColor-colors">
            {colorOptions[activeFilter]?.map((color) => (
              <div
                key={color.id}
                className={`color-option ${selectedColors.highlight === color.color ? "active" : ""}`}
                onClick={() => {
                  handleColorSelect(color.color);
                  handlePriceSelect(color.price);
                  handleColorNameSelect(color.name);
                }}
              >
                <h5
                  className={selectedColors.highlight === color.color ? "colorr-active" : ""}
                  style={{ backgroundColor: color.color }}
                >
                  {color.id}
                </h5>
                <h6>{color.name}</h6>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>
  );
};

export default HairColorHighlight;
